(function(t){function e(e){for(var a,r,s=e[0],u=e[1],c=e[2],l=0,d=[];l<s.length;l++)r=s[l],i[r]&&d.push(i[r][0]),i[r]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);f&&f(e);while(d.length)d.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,r=1;r<n.length;r++){var s=n[r];0!==i[s]&&(a=!1)}a&&(o.splice(e--,1),t=u(u.s=n[0]))}return t}var a={},r={app:0},i={app:0},o=[];function s(t){return u.p+"js/"+({"account~auction~auctionlist~dog~user":"account~auction~auctionlist~dog~user","account~auction":"account~auction",account:"account",auction:"auction",auctionlist:"auctionlist",dog:"dog",user:"user",doglist:"doglist",userlist:"userlist"}[t]||t)+"."+{"account~auction~auctionlist~dog~user":"b05ff82c","account~auction":"d0f392f7",account:"a860d5a8",auction:"72f0d186",auctionlist:"2d356b7b",dog:"f17c399a",user:"b8d4826c",doglist:"b70d3285",userlist:"b67698b3"}[t]+".js"}function u(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(t){var e=[],n={"account~auction":1,account:1,auctionlist:1,dog:1,user:1,doglist:1,userlist:1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise(function(e,n){for(var a="css/"+({"account~auction~auctionlist~dog~user":"account~auction~auctionlist~dog~user","account~auction":"account~auction",account:"account",auction:"auction",auctionlist:"auctionlist",dog:"dog",user:"user",doglist:"doglist",userlist:"userlist"}[t]||t)+"."+{"account~auction~auctionlist~dog~user":"31d6cfe0","account~auction":"e78eee5f",account:"65bafc41",auction:"31d6cfe0",auctionlist:"f6d07565",dog:"0a56fb13",user:"894eeb42",doglist:"2786564a",userlist:"efd6dcdd"}[t]+".css",i=u.p+a,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var c=o[s],l=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(l===a||l===i))return e()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){c=d[s],l=c.getAttribute("data-href");if(l===a||l===i)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var a=e&&e.target&&e.target.src||i,o=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");o.request=a,delete r[t],f.parentNode.removeChild(f),n(o)},f.href=i;var m=document.getElementsByTagName("head")[0];m.appendChild(f)}).then(function(){r[t]=0}));var a=i[t];if(0!==a)if(a)e.push(a[2]);else{var o=new Promise(function(e,n){a=i[t]=[e,n]});e.push(a[2]=o);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=s(t),c=function(e){l.onerror=l.onload=null,clearTimeout(d);var n=i[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src,o=new Error("Loading chunk "+t+" failed.\n("+a+": "+r+")");o.type=a,o.request=r,n[1](o)}i[t]=void 0}};var d=setTimeout(function(){c({type:"timeout",target:l})},12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(e)},u.m=t,u.c=a,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)u.d(n,a,function(e){return t[e]}.bind(null,a));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="",u.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var f=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"118c":function(t,e,n){},"19f0":function(t,e,n){},"22f4":function(t,e,n){"use strict";var a=n("19f0"),r=n.n(a);r.a},"56d7":function(t,e,n){"use strict";n.r(e);var a={};n.r(a),n.d(a,"Account",function(){return vt}),n.d(a,"Auctions",function(){return Ot}),n.d(a,"Dogs",function(){return Ct}),n.d(a,"Ping",function(){return _t}),n.d(a,"Users",function(){return kt});n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),i=n("5cd9"),o=n.n(i),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("header",{staticClass:"sticky-top"},[n("nav",{staticClass:"navbar navbar-expand-md navbar-light bg-light"},[n("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[t._v("The Puppy Project")]),t._m(0),n("div",{staticClass:"navbar-collapse collapse",attrs:{id:"navbarCollapse"}},[n("ul",{staticClass:"navbar-nav mr-auto"},[n("NavbarLink",{attrs:{to:"/",exact:""}},[t._v("Home")]),n("NavbarLink",{attrs:{to:"/auctions"}},[t._v("Auctions")]),n("NavbarLink",{attrs:{to:"/dogs"}},[t._v("Dogs")])],1),n("div",{staticStyle:{margin:"auto",width:"50%"}},[n("portal-target",{attrs:{name:"searchbar"}})],1),n("div",{staticClass:"d-flex"},[n("NavbarStatus",{staticClass:"ml-3"}),n("NavbarAccount",{staticClass:"ml-3"})],1)])],1)]),n("main",[n("router-view")],1),t._m(1),n("portal-target",{attrs:{name:"modals",multiple:""}})],1)},u=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"navbar-toggler collapsed",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"}},[n("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{staticClass:"text-muted"},[n("div",{staticClass:"container"},[n("div",{staticClass:"d-flex justify-content-center"},[n("small",[t._v("CPSC 559 - Group 2")])])])])}],c=n("cebc"),l=n("2f62"),d=n("308d"),f=n("6bb5"),m=n("4e2b"),p=n("d225"),h=n("b0b4"),g=function(){function t(e,n,a){Object(p["a"])(this,t),this.dispatch=e,this.period=n,this.store=a,this.interval=null}return Object(h["a"])(t,[{key:"setStore",value:function(t){this.store=t}},{key:"errorHandler",value:function(t){switch(t.status){case 418:break;case 521:default:this.store.dispatch("apiUnavailable")}}},{key:"startPolling",value:function(){var t=this;if(!this.interval){var e=function(){t.store.dispatch(t.dispatch).catch(function(e){return t.errorHandler(e)})};e(),this.interval=setInterval(e.bind(this),this.period)}}},{key:"stopPolling",value:function(){null!==this.interval&&(clearInterval(this.interval),this.interval=null)}}]),t}(),v=new g("auctions/fetchAll",3e3),b=new g("bids/fetchAll",15e3),y=new g("dogs/fetchAll",15e3),O=new g("users/fetchAll",15e3),w=function(t){function e(t,n,a){return Object(p["a"])(this,e),Object(d["a"])(this,Object(f["a"])(e).call(this,t,n,a))}return Object(m["a"])(e,t),Object(h["a"])(e,[{key:"errorHandler",value:function(){}}]),e}(g),C=new w("pingAPI",5e3);function _(t){v.setStore(t),b.setStore(t),y.setStore(t),C.setStore(t),O.setStore(t)}var j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"dropdown",staticClass:"account dropdown"},[n("button",{staticClass:"btn btn-outline-secondary my-2 my-sm-0 dropdown-toggle",attrs:{type:"button",id:"accountMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t.loggedin?[t._v("\n      "+t._s(t.username)+"\n    ")]:[t._v("\n      Login\n    ")]],2),n("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"accountMenuButton"}},[t.loggedin?[n("router-link",{staticClass:"dropdown-item",attrs:{"active-class":"active",to:"/account"}},[t._v("My Account")]),n("div",{staticClass:"dropdown-divider"}),n("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.onLogoutClick(e)}}},[t._v("Log Out")])]:[n("form",{staticClass:"px-4 py-3",on:{submit:function(e){return e.preventDefault(),t.onSigninSubmit(e)}}},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"loginDropdownFormUsername"}},[t._v("Username")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.signinUsername,expression:"signinUsername"}],ref:"loginUsername",staticClass:"form-control",class:{"is-invalid":t.loginError},attrs:{type:"text",id:"loginDropdownFormUsername",placeholder:"username"},domProps:{value:t.signinUsername},on:{input:function(e){e.target.composing||(t.signinUsername=e.target.value)}}}),t.loginError?n("div",{staticClass:"invalid-feedback"},[t._v("\n            "+t._s(t.loginError)+"\n          ")]):t._e()]),n("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("\n          Sign in\n        ")])]),n("div",{staticClass:"dropdown-divider"}),n("button",{staticClass:"dropdown-item",on:{click:function(e){return e.preventDefault(),t.$refs.regFormModal.showModal(e)}}},[t._v("\n        New around here? Create an account\n      ")]),n("portal",{attrs:{to:"modals"}},[n("Modal",{ref:"regFormModal",attrs:{title:"Sign Up"},on:{hide:function(e){return t.$refs.addRegForm.reset()}}},[n("RegForm",{ref:"addRegForm",on:{submitSuccess:function(e){return t.$refs.regFormModal.hideModal()}}})],1)],1)]],2)])},k=[],P=n("714b"),A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{ref:"form",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"regFormUser"}},[t._v("Username")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",id:"regFormUser",placeholder:"Enter Username",required:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),n("span",{staticStyle:{color:"red",display:"none"},attrs:{id:"errorMsg"}},[t._v("Username already taken, please enter another Username.")])]),n("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("\n    "+t._s(t.submitLabel)+"\n  ")])])},x=[],I={name:"RegForm",props:{user:{username:String},submitLabel:{type:String,default:"Sign Up"}},data:function(){return{username:this.user?this.user.username:null}},methods:{reset:function(){this.username=this.user?this.user.username:null,this.$refs.form.classList.remove("was-validated")},checkForm:function(t){return!1!==this.$refs.form.checkValidity()||(this.$refs.form.classList.add("was-validated"),t.preventDefault(),t.stopPropagation(),!1)},createUser:function(){return this.$store.dispatch("users/create",{username:this.username})},onSubmit:function(t){var e,n=this;this.checkForm(t)&&(e=this.createUser(),e.then(function(){n.$emit("submitSuccess"),n.reset()}).catch(function(t){console.log(t);var e=document.getElementById("errorMsg");e.style.display="block"}))}}},E=I,S=n("2877"),U=Object(S["a"])(E,A,x,!1,null,null,null),R=U.exports,N={name:"navbaraccount",components:{Modal:P["a"],RegForm:R},data:function(){return{signinUsername:null,loginError:null}},computed:Object(c["a"])({},Object(l["c"])(["userId","username"]),Object(l["b"])(["loggedin"])),methods:{resetSigninForm:function(){this.signinUsername=null},onSigninSubmit:function(){var t=this;this.loginError=null,this.$store.dispatch("signin",this.signinUsername).then(function(){t.resetSigninForm(),t.$router.push({name:"account"})}).catch(function(e){e.data&&e.data.details&&"string"===typeof e.data.details?t.loginError=e.data.details:e.data&&e.data.errors&&"string"===typeof e.data.errors[0]?t.loginError=e.data.errors[0]:t.loginError=e.msg})},onLogoutClick:function(){var t=this;this.$store.dispatch("signout").then(function(){t.$router.push({name:"home"})})}},mounted:function(){var t=this;$(this.$refs.dropdown).on("shown.bs.dropdown",function(){t.loggedin||t.$nextTick(function(){return t.$refs.loginUsername.focus()})})},beforeDestroy:function(){$(this.$refs.dropdown).off("shown.bs.dropdown")}},D=N,M=(n("80cf"),Object(S["a"])(D,j,k,!1,null,null,null)),B=M.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.apiAvailable?t._e():n("div",{staticClass:"status"},[n("span",{staticClass:"h-100 d-flex align-items-center"},[n("i",{directives:[{name:"show",rawName:"v-show",value:t.refreshing,expression:"refreshing"}],staticClass:"fas fa-spinner fa-spin"}),n("a",{directives:[{name:"show",rawName:"v-show",value:!t.refreshing,expression:"!refreshing"}],ref:"tooltip",attrs:{href:"#","data-toggle":"tooltip","data-placement":"bottom","data-html":"true",title:"<b>Offline mode is on</b><div>Looks like you're not connected to the Internet. Changes you make in offline mode will be synced when you reconnect.</div>"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.refreshNow(e)}}},[n("i",{staticClass:"fas fa-exclamation-triangle"})])])])},L=[],T={name:"NavbarStatus",data:function(){return{refreshing:!1}},computed:Object(c["a"])({},Object(l["c"])(["apiAvailable"])),watch:{apiAvailable:function(t){var e=this;t||this.$nextTick(function(){return $(e.$refs.tooltip).tooltip()})}},methods:{refreshNow:function(){var t=this;this.refreshing=!0,setTimeout(function(){t.refreshing=!1},3e3)}},mounted:function(){var t=this;this.apiAvailable||this.$nextTick(function(){return $(t.$refs.tooltip).tooltip()})}},z=T,q=(n("22f4"),Object(S["a"])(z,F,L,!1,null,null,null)),H=q.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-link",t._b({staticClass:"nav-item",attrs:{tag:"li","active-class":"active"}},"router-link",t.$attrs,!1),[n("a",{staticClass:"nav-link"},[t._t("default")],2)])},J=[],G={},K=Object(S["a"])(G,V,J,!1,null,null,null),Q=K.exports,W={components:{NavbarAccount:B,NavbarStatus:H,NavbarLink:Q},data:function(){return{searchResult:null}},computed:Object(c["a"])({},Object(l["c"])(["apiAvailable"]),Object(l["b"])(["loggedin"])),watch:{apiAvailable:function(t){t?this.apiIsAvailable():this.apiIsUnavailable()},loggedin:function(){this.loggedin&&this.apiAvailable?b.startPolling():b.stopPolling()}},methods:{apiIsAvailable:function(){C.stopPolling(),v.startPolling(),y.startPolling(),O.startPolling(),this.loggedin&&b.startPolling()},apiIsUnavailable:function(){C.startPolling(),v.stopPolling(),b.stopPolling(),y.stopPolling(),O.stopPolling()}},mounted:function(){_(this.$store),this.apiAvailable?this.apiIsAvailable():this.apiIsUnavailable()},beforeDestroy:function(){v.stopPolling(),b.stopPolling(),y.stopPolling(),C.stopPolling(),O.stopPolling()}},X=W,Y=Object(S["a"])(X,s,u,!1,null,null,null),Z=Y.exports,tt=n("8c4f"),et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"d-flex p-3 mx-auto flex-column text-center"},[a("div",{staticClass:"inner cover"},[a("img",{attrs:{alt:"Vue logo",src:n("992b")}}),a("h1",{staticClass:"display-4"},[t._v("The Puppy Project")]),a("p",{staticClass:"lead"},[t._v("\n        An online auction site for dogs.\n      ")]),a("p",[a("router-link",{staticClass:"btn btn-primary my-2 my-sm-0",attrs:{to:"/auctions"}},[t._v("View Auctions")]),t._v("\n         \n        "),a("router-link",{staticClass:"btn btn-secondary my-2 my-sm-0",attrs:{to:"/dogs"}},[t._v("View Dogs")])],1)])])])},nt=[],at={},rt=Object(S["a"])(at,et,nt,!1,null,null,null),it=rt.exports;r["default"].use(tt["a"]);var ot=new tt["a"]({base:"",routes:[{path:"/",name:"home",component:it},{path:"/auctions",name:"auctionlist",component:function(){return Promise.all([n.e("account~auction~auctionlist~dog~user"),n.e("auctionlist")]).then(n.bind(null,"951f"))}},{path:"/auctions/:id",name:"auction",component:function(){return Promise.all([n.e("account~auction~auctionlist~dog~user"),n.e("account~auction"),n.e("auction")]).then(n.bind(null,"e261"))}},{path:"/dogs",name:"doglist",component:function(){return n.e("doglist").then(n.bind(null,"0db3"))}},{path:"/dogs/:id",name:"dog",component:function(){return Promise.all([n.e("account~auction~auctionlist~dog~user"),n.e("dog")]).then(n.bind(null,"6811"))}},{path:"/users",name:"userlist",component:function(){return n.e("userlist").then(n.bind(null,"ab3a"))}},{path:"/users/:id",name:"user",component:function(){return Promise.all([n.e("account~auction~auctionlist~dog~user"),n.e("user")]).then(n.bind(null,"1511"))}},{path:"/account",name:"account",component:function(){return Promise.all([n.e("account~auction~auctionlist~dog~user"),n.e("account~auction"),n.e("account")]).then(n.bind(null,"77be"))}}]}),st=n("bfa9"),ut=n("bc3a"),ct=n.n(ut),lt=n("795b"),dt=n.n(lt),ft={recieved:function(t){return console.log("API ERROR (Response):",t.response),dt.a.reject({msg:"Bad server response. Please try again later.",data:t.response.data,status:t.response.status,error:t})},notRecieved:function(t){return console.log("API ERROR (No Response):",t.config.method,t.config.url),dt.a.reject({msg:"Could not connect to the API server. Please try again later",status:521,error:t})},otherError:function(t){return console.log("API ERROR: Something happened in setting up the request that triggered an Error",t),dt.a.reject({msg:"Something went wrong, please try again later.",status:418,error:t})}};function mt(t){return t.response?ft.recieved(t):t.request?ft.notRecieved(t):ft.otherError(t)}var pt=ct.a.create({baseURL:"http://ec2-3-88-0-236.compute-1.amazonaws.com:975/"});pt.interceptors.response.use(function(t){return t.data},function(t){return mt(t)});var ht=pt,gt=function(){function t(){Object(p["a"])(this,t),this.basepath="account"}return Object(h["a"])(t,[{key:"login",value:function(t){return ht.get(this.basepath+"/login/user?username="+t)}},{key:"create",value:function(t){return ht.post(this.basepath,{username:t})}},{key:"getBids",value:function(t){return ht.get(this.basepath+"/"+t+"/bids")}}]),t}(),vt=new gt,bt=(n("a481"),function(){function t(e){Object(p["a"])(this,t),this.basepath=e.replace(/\/$/,"")}return Object(h["a"])(t,[{key:"getAll",value:function(){return ht.get(this.basepath)}},{key:"get",value:function(t){return ht.get(this.basepath+"/"+t)}},{key:"create",value:function(t){return ht.post(this.basepath,t)}},{key:"update",value:function(t,e){return ht.patch(this.basepath+"/"+t,e)}},{key:"search",value:function(t){return ht.get(this.basepath+"/search",{params:t})}}]),t}()),yt=function(t){function e(){return Object(p["a"])(this,e),Object(d["a"])(this,Object(f["a"])(e).call(this,"auctions/"))}return Object(m["a"])(e,t),Object(h["a"])(e,[{key:"bid",value:function(t,e){return ht.post(this.basepath+"/"+t,e)}}]),e}(bt),Ot=new yt,wt=function(t){function e(){return Object(p["a"])(this,e),Object(d["a"])(this,Object(f["a"])(e).call(this,"dogs/"))}return Object(m["a"])(e,t),e}(bt),Ct=new wt;function _t(){return ht.get("dogs")}var jt=function(t){function e(){return Object(p["a"])(this,e),Object(d["a"])(this,Object(f["a"])(e).call(this,"users/"))}return Object(m["a"])(e,t),e}(bt),kt=new jt,Pt={apiUnavailable:function(t){t.state.apiAvailable&&(t.commit("apiUnavailable"),t.commit("auctions/deleteRealtimeData"))},pingAPI:function(t){return _t().then(function(){t.commit("apiAvailable")})},signin:function(t,e){return vt.login(e).then(function(e){t.commit("setUser",e)})},signout:function(t){t.commit("setUser",null)},createAccount:function(t,e){return vt.create(e).then(function(e){t.commit("setUser",e)})}},At=n("a8db"),xt=n("dd61"),$t=n.n(xt),It=n("52b3"),Et=n.n(It);function St(t){var e=t.id;return"item_".concat(e)}var Ut={state:function(){return{items:{},ids:[]}},getters:{items:function(t){return $t()(t.ids,function(e){return t.items[St({id:e})]})},itemById:function(t){return function(e){return t.items[St({id:e})]}}},mutations:{updateOrCreate:function(t,e){var n=St(e);r["default"].set(t.items,n,e),-1===t.ids.indexOf(e.id)&&t.ids.push(e.id)},batchUpdateOrCreate:function(t,e){for(var n=0;n<e.length;n++)Ut.mutations.updateOrCreate(t,e[n])},remove:function(t,e){if(-1!==t.ids.indexOf(e)){var n=t.ids.indexOf(e);r["default"].delete(t.ids,n);var a=St({id:e});r["default"].delete(t.items,a)}},batchRemove:function(t,e){for(var n=0;n<e.length;n++)Ut.mutations.remove(t,e[n])},synchronize:function(t,e){var n=Et()(t.ids,e,function(t,e){return t===e.id});Ut.mutations.batchRemove(t,n),Ut.mutations.batchUpdateOrCreate(t,e)}}},Rt=n("9380"),Nt=n.n(Rt),Dt=n("bfc7"),Mt=n.n(Dt),Bt={all:Ut.getters.items,byId:Ut.getters.itemById,byDog:function(t,e){return function(t){return Nt()(e.all,{dogId:t})}}},Ft=Object(c["a"])({},Ut.mutations,{deleteRealtimeData:function(t){for(var e=0;e<t.ids.length;e++){var n=t.ids[e],a=St({id:n}),i=t.items[a];r["default"].set(i,"startPrice",null),r["default"].set(i,"highestBid",null),r["default"].set(i,"expirationTime",null)}}}),Lt={fetchAll:function(t){return Ot.getAll().then(function(e){return t.commit("batchUpdateOrCreate",e),t.dispatch("active/synchronize",e)})},fetch:function(t,e){return Ot.get(e).then(function(e){t.commit("updateOrCreate",e)})},create:function(t,e){return Ot.create(e).then(function(e){t.commit("updateOrCreate",e)})},update:function(t,e){var n=e.id,a=Object(At["a"])(e,["id"]);return Ot.update(n,a).then(function(e){t.commit("updateOrCreate",e)})},checkRemoval:function(t){var e=Mt()(t.state.active.ids,t.state.archive.ids),n=Et()(t.state.ids,e);n.length&&t.commit("batchRemove",n)},placeBid:function(t,e){var n=e.auctionId,a=Object(At["a"])(e,["auctionId"]);return Ot.bid(n,a)}},Tt={state:function(){return{ids:[]}},mutations:{add:function(t,e){-1===t.ids.indexOf(e)&&t.ids.push(e)},batchAdd:function(t,e){for(var n=0;n<e.length;n++)Tt.mutations.add(t,e[n])},remove:function(t,e){-1!==t.ids.indexOf(e)&&r["default"].delete(t.ids,t.ids.indexOf(e))},batchRemove:function(t,e){for(var n=0;n<e.length;n++)Tt.mutations.remove(t,e[n])},synchronize:function(t,e){var n=Et()(t.ids,e);Tt.mutations.batchRemove(t,n),Tt.mutations.batchAdd(t,e)}},getters:{all:function(t,e,n){return $t()(t.ids,function(t){return n.auctions.items[St({id:t})]})},byId:function(t,e,n,a){return function(e){return-1===t.ids.indexOf(e)?null:a["auctions/byId"](e)}},byDog:function(t,e){return function(t){return Nt()(e.all,{dogId:t})}}}},zt=Object(c["a"])({namespaced:!0},Tt,{actions:{synchronize:function(t,e){return t.commit("synchronize",$t()(e,function(t){return t.id})),t.dispatch("auctions/checkRemoval",null,{root:!0})}}}),qt=Object(c["a"])({namespaced:!0},Tt,{actions:{require:function(t,e){return-1!==t.state.ids.indexOf(e)?dt.a.resolve():(t.commit("add",e),Ot.get(e).then(function(e){t.commit("auctions/updateOrCreate",e,{root:!0})}).catch(function(){}))},release:function(t,e){return-1!==t.state.ids.indexOf(e)&&t.commit("remove",e),t.dispatch("auctions/checkRemoval",null,{root:!0})}}}),Ht={namespaced:!0,state:Ut.state,mutations:Ft,getters:Bt,actions:Lt,modules:{active:zt,archive:qt}},Vt={all:Ut.getters.items,byId:Ut.getters.itemById},Jt={fetchAll:function(t){return vt.getBids(t.rootState.userId).then(function(e){for(var n=Et()(e,t.state.ids,function(t,e){return e===t.id}),a=0;a<n.length;a++)t.dispatch("auctions/archive/require",n[a].auctionId,{root:!0});for(var r=Et()(t.state.ids,e,function(t,e){return t===e.id}),i=0;i<r.length;i++){var o=t.getters.byId(r[i]);t.dispatch("auctions/archive/release",o.auctionId,{root:!0})}t.commit("synchronize",e)})}},Gt={namespaced:!0,state:Ut.state,mutations:Ut.mutations,getters:Vt,actions:Jt},Kt={all:Ut.getters.items,byId:Ut.getters.itemById,byOwner:function(t){return function(e){return Nt()(Ut.getters.items(t),{ownerId:e})}}},Qt={fetchAll:function(t){return Ct.getAll().then(function(e){t.commit("synchronize",e)})},fetch:function(t,e){return Ct.get(e).then(function(e){t.commit("updateOrCreate",e)})},create:function(t,e){return Ct.create(e).then(function(e){t.commit("updateOrCreate",e)})},update:function(t,e){var n=e.id,a=Object(At["a"])(e,["id"]);return Ct.update(n,a).then(function(e){t.commit("updateOrCreate",e)})}},Wt={namespaced:!0,state:Ut.state,mutations:Ut.mutations,getters:Kt,actions:Qt},Xt={all:Ut.getters.items,byId:Ut.getters.itemById},Yt={fetchAll:function(t){return kt.getAll().then(function(e){t.commit("synchronize",e)})},fetch:function(t,e){return kt.get(e).then(function(e){t.commit("updateOrCreate",e)})},create:function(t,e){return kt.create(e).then(function(e){t.commit("updateOrCreate",e)})},update:function(t,e,n){return kt.update(e,n).then(function(e){t.commit("updateOrCreate",e)})}},Zt={namespaced:!0,state:Ut.state,mutations:Ut.mutations,getters:Xt,actions:Yt};r["default"].use(l["a"]);var te=new st["a"]({storage:window.localStorage}),ee=new l["a"].Store({state:{userId:null,username:null,apiAvailable:!0,apiErrors:[]},mutations:{setUser:function(t,e){e?(t.userId=e.id,t.username=e.username):(t.userId=null,t.username=null)},apiAvailable:function(t){t.apiAvailable=!0},apiUnavailable:function(t){t.apiAvailable=!1},addAPIError:function(t,e){t.apiErrors.push(e)},removeAPIError:function(t,e){var n=t.apiErrors.indexOf(e);n>=0&&r["default"].delete(t.apiErrors,n)},clearAPIErrors:function(t){t.apiErrors=[]}},getters:{loggedin:function(t){return null!==t.userId&&void 0!==t.userId}},actions:Pt,modules:{auctions:Ht,bids:Gt,dogs:Wt,users:Zt},plugins:[te.plugin]});r["default"].use(o.a),r["default"].prototype.$api=a,r["default"].config.productionTip=!1,new r["default"]({router:ot,store:ee,render:function(t){return t(Z)}}).$mount("#app")},"714b":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"modal",staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog","aria-hidden":"true"}},[n("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title"},[t._v(t._s(t.title))]),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return e.preventDefault(),t.hideModal(e)}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),n("div",{staticClass:"modal-body"},[t._t("default")],2),t.$slots.footer?n("div",{staticClass:"modal-footer"},[t._t("footer")],2):t._e()])])])},r=[],i={name:"modal",props:{title:String},methods:{showModal:function(){$(this.$refs.modal).modal("show"),this.$emit("show")},hideModal:function(){$(this.$refs.modal).modal("hide"),this.$emit("hide")}},mounted:function(){var t=this;$(this.$refs.modal).on("hidden.bs.modal",function(){t.$emit("hide")})},beforeDestroy:function(){$(this.$refs.modal).off("hidden.bs.modal")}},o=i,s=n("2877"),u=Object(s["a"])(o,a,r,!1,null,null,null);e["a"]=u.exports},"80cf":function(t,e,n){"use strict";var a=n("118c"),r=n.n(a);r.a},"992b":function(t,e,n){t.exports=n.p+"img/256px-Black_Paw.svg.972b8755.png"}});
//# sourceMappingURL=app.fe741631.js.map