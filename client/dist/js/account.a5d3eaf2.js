(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["account"],{"0348":function(t,e,a){"use strict";var r=a("abc2"),i=a.n(r);i.a},"08f1":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card auctionCard"},[a("div",{staticClass:"card-body"},[a("router-link",{attrs:{to:{name:"auction",params:{id:t.auction.id}}}},[a("h5",{staticClass:"card-title"},[t._v(t._s(t.auction.name))])]),t.currentAmount?a("h6",{staticClass:"card-subtitle mb-2 text-muted"},[t._v("\n      $"+t._s(t.currentAmount)+"\n    ")]):t._e(),t.apiAvailable?t._e():a("p",[t._v("Information Unavailable Offline")])],1),t.apiAvailable?a("div",{staticClass:"card-footer text-muted"},[t._v("\n    "+t._s(t.endtimeString)+"\n  ")]):t._e()])},i=[],n=a("cebc"),o=a("c1df"),s=a.n(o),d=a("2f62"),u={name:"AuctionCard",props:{auction:Object},computed:Object(n["a"])({},Object(d["c"])(["apiAvailable"]),{currentAmount:function(){return this.auction.highestBid&&this.auction.highestBid.amount?this.auction.highestBid.amount:this.auction.startPrice},endtimeString:function(){if(!this.auction.expirationTime)return"Endtimes unavailable offline";var t=s()(),e=s()(this.auction.expirationTime);return t.diff(e)>0?"Ended "+e.fromNow():"Ends "+e.fromNow()}})},c=u,l=(a("2541"),a("2877")),m=Object(l["a"])(c,r,i,!1,null,null,null);e["a"]=m.exports},2541:function(t,e,a){"use strict";var r=a("b9f0"),i=a.n(r);i.a},"49a0":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{ref:"form",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"dogFormName"}},[t._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"dogFormName",placeholder:"Enter Name",required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"dogFormBreed"}},[t._v("Breed")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.breed,expression:"breed"}],staticClass:"form-control",attrs:{type:"text",id:"dogFormBreed",placeholder:"Breed",required:""},domProps:{value:t.breed},on:{input:function(e){e.target.composing||(t.breed=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"dogFormAge"}},[t._v("Age")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.age,expression:"age"}],staticClass:"form-control",attrs:{type:"number",id:"dogFormAge",value:"0",min:"0",step:"1",required:""},domProps:{value:t.age},on:{input:function(e){e.target.composing||(t.age=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"dogFormImageUrl"}},[t._v("Image URL")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.imageUrl,expression:"imageUrl"}],staticClass:"form-control",attrs:{type:"text",id:"dogFormImageUrl",placeholder:"url"},domProps:{value:t.imageUrl},on:{input:function(e){e.target.composing||(t.imageUrl=e.target.value)}}})]),t.error?a("div",{staticClass:"alert alert-danger fade show",attrs:{role:"alert"}},[t._v("\n    "+t._s(t.error)+"\n  ")]):t._e(),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("\n    "+t._s(t.submitLabel)+"\n  ")])])},i=[],n=(a("7f7f"),a("c5f6"),{name:"DogForm",props:{dog:{id:Number,name:String,breed:String,age:Number,ownerId:Number,imageUrl:String},submitLabel:{type:String,default:"Save"}},data:function(){return{name:this.dog?this.dog.name:null,breed:this.dog?this.dog.breed:null,age:this.dog?this.dog.age:0,imageUrl:this.dog?this.dog.imageUrl:null,error:null}},methods:{reset:function(){this.name=this.dog?this.dog.name:null,this.breed=this.dog?this.dog.breed:null,this.age=this.dog?this.dog.age:0,this.imageUrl=this.dog?this.dog.imageUrl:null,this.$refs.form.classList.remove("was-validated")},checkForm:function(t){return!1!==this.$refs.form.checkValidity()||(this.$refs.form.classList.add("was-validated"),t.preventDefault(),t.stopPropagation(),!1)},createDog:function(){return this.$store.dispatch("dogs/create",{name:this.name,breed:this.breed,age:this.age,ownerId:this.$store.state.userId,imageUrl:this.imageUrl})},updateDog:function(){return this.$store.dispatch("dogs/update",{id:this.dog.id,name:this.name,breed:this.breed,age:this.age,imageUrl:this.imageUrl})},onSubmit:function(t){var e,a=this;(this.error=null,this.checkForm(t))&&(e=this.dog&&this.dog.id?this.updateDog():this.createDog(),e.then(function(){a.$emit("submitSuccess"),a.reset()}).catch(function(t){t.data&&t.data.details&&"string"===typeof t.data.details?a.error=t.data.details:t.data&&t.data.errors&&"string"===typeof t.data.errors[0]?a.error=t.data.errors[0]:a.error=t.msg}))}}}),o=n,s=a("2877"),d=Object(s["a"])(o,r,i,!1,null,null,null);e["a"]=d.exports},"773c":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card dogCard"},[t.dog.imageUrl?a("img",{staticClass:"card-img-top",attrs:{src:t.dog.imageUrl,alt:t.dog.name}}):t._e(),a("div",{staticClass:"card-body"},[a("router-link",{attrs:{to:{name:"dog",params:{id:t.dog.id}}}},[a("h5",{staticClass:"card-title"},[t._v(t._s(t.dog.name))])]),a("h6",{staticClass:"card-subtitle mb-2 text-muted"},[t._v(t._s(t.dog.breed))])],1),t.auction?a("div",{staticClass:"card-footer text-white bg-info"},[a("router-link",{attrs:{to:{name:"auction",params:{id:t.auction.id}}}},[t._v("\n      "+t._s(t.auction.name)+"\n    ")])],1):t._e()])},i=[],n=a("cebc"),o=a("2f62"),s=a("a59b"),d=a.n(s),u={name:"DogCard",props:{dog:Object},computed:Object(n["a"])({},Object(o["b"])({auctionsByDog:"auctions/active/byDog"}),{auction:function(){return d()(this.auctionsByDog(this.dog.id))}})},c=u,l=(a("9d55"),a("2877")),m=Object(l["a"])(c,r,i,!1,null,null,null);e["a"]=m.exports},"77be":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("h1",[t._v("My Account")]),a("h3",[t._v("My Dogs")]),a("CardList",{attrs:{items:t.dogs},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.item;return[a("DogCard",{attrs:{dog:e}})]}}])}),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$refs.addDogModal.showModal(e)}}},[t._v("\n    Add Dog\n  ")]),a("Modal",{ref:"addDogModal",attrs:{title:"Add Dog"},on:{hide:function(e){return t.$refs.addDogForm.reset()}}},[a("DogForm",{ref:"addDogForm",on:{submitSuccess:function(e){return t.$refs.addDogModal.hideModal()}}})],1),a("hr"),a("h3",[t._v("My Auctions")]),a("CardList",{attrs:{items:t.auctions},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.item;return[a("AuctionCard",{attrs:{auction:e}})]}}])}),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$refs.addAuctionModal.showModal(e)}}},[t._v("\n    Add Auction\n  ")]),a("Modal",{ref:"addAuctionModal",attrs:{title:"Add Auction"},on:{hide:function(e){return t.$refs.addAuctionForm.reset()}}},[a("AuctionForm",{ref:"addAuctionForm",on:{submitSuccess:function(e){return t.$refs.addAuctionModal.hideModal()}}})],1),a("hr"),a("h3",[t._v("My Bids")]),a("CardList",{attrs:{items:t.bids},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.item;return[a("BidCard",{attrs:{bid:e}})]}}])})],1)},i=[],n=a("cebc"),o=a("2f62"),s=a("e9a8"),d=a.n(s),u=a("c995"),c=a("773c"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card bidCard"},[a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[t._v(t._s(t.auction.name))]),a("h6",{staticClass:"card-subtitle mb-2 text-muted"},[t._v("Bid ID: "+t._s(t.bid.id))]),a("h6",{staticClass:"card-subtitle mb-2 text-muted"},[t._v("Dog Name: "+t._s(t.dog.name))]),a("h6",{staticClass:"card-subtitle mb-2 text-muted"},[t._v("\n      Bid Amount: $"+t._s(t.bid.amount)+"\n    ")])])])},m=[],f={name:"BidCard",props:{bid:Object},computed:Object(n["a"])({},Object(o["b"])({auctionById:"auctions/byId",dogById:"dogs/byId"}),{auction:function(){return this.auctionById(this.bid.auctionId)},dog:function(){return this.dogById(this.auction.dogId)}})},g=f,b=(a("0348"),a("2877")),h=Object(b["a"])(g,l,m,!1,null,null,null),v=h.exports,p=a("08f1"),y=a("714b"),_=a("49a0"),C=a("a595"),D={name:"account",components:{CardList:u["a"],DogCard:c["a"],AuctionCard:p["a"],BidCard:v,Modal:y["a"],DogForm:_["a"],AuctionForm:C["a"]},computed:Object(n["a"])({},Object(o["c"])(["userId","username"]),Object(o["b"])({userById:"users/byId",dogsByOwner:"dogs/byOwner",auctionsByDog:"auctions/active/byDog",bidsAll:"bids/all"}),{user:function(){return this.userById(this.userId)},bids:function(){return this.bidsAll},dogs:function(){return this.dogsByOwner(this.userId)},auctions:function(){var t=this;return d()(this.dogs,function(e){return t.auctionsByDog(e.id)})}})},A=D,$=Object(b["a"])(A,r,i,!1,null,null,null);e["default"]=$.exports},"9d55":function(t,e,a){"use strict";var r=a("f3a6"),i=a.n(r);i.a},a59b:function(t,e){function a(t){return t&&t.length?t[0]:void 0}t.exports=a},abc2:function(t,e,a){},b9f0:function(t,e,a){},bef4:function(t,e,a){"use strict";var r=a("cb57"),i=a.n(r);i.a},c995:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{ref:"ul"},t._l(t.items,function(e){return a("li",{key:e.id,staticClass:"masonry-item my-2"},[t._t("default",null,{item:e})],2)}),0)},i=[],n={name:"cardlist",props:{items:Array},methods:{masonryInit:function(){$(this.$refs.ul).masonry({itemSelector:".masonry-item",columnWidth:270,gutter:10})},masonryDestroy:function(){$(this.$refs.ul).masonry("destroy")},masonryReflow:function(){$(this.$refs.ul).masonry("reloadItems").masonry("layout")}},mounted:function(){this.masonryInit()},updated:function(){this.masonryReflow()},beforeDestroy:function(){this.masonryDestroy()}},o=n,s=(a("bef4"),a("2877")),d=Object(s["a"])(o,r,i,!1,null,"c066ba10",null);e["a"]=d.exports},cb57:function(t,e,a){},e9a8:function(t,e,a){var r=a("5c69"),i=a("dd61");function n(t,e){return r(i(t,e),1)}t.exports=n},f3a6:function(t,e,a){}}]);
//# sourceMappingURL=account.a5d3eaf2.js.map